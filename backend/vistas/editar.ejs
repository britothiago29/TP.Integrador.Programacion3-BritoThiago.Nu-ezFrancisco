<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>FRAP | <%= accion === 'alta' ? 'Alta' : 'Editar' %> producto</title>
    <link rel="stylesheet" href="/css/estilos.css">
    <style>/* CONTENEDOR PRINCIPAL */
.form-container {
    max-width: 600px;
    margin: 30px auto;
    padding: 25px;
    border-radius: 15px;
    background: #ffffff;
    box-shadow: 0 0 12px rgba(0,0,0,0.15);
    font-family: Arial, sans-serif;
}

/* TÍTULO */
.form-container h2 {
    text-align: center;
    margin-bottom: 20px;
    font-size: 26px;
}

/* LABELS */
.form-producto-container label {
    display: block;
    margin-top: 15px;
    font-weight: bold;
}

/* CAMPOS */
.form-producto-container input,
.form-producto-container select {
    width: 100%;
    padding: 10px;
    margin-top: 6px;
    border-radius: 8px;
    border: 1px solid #bbb;
    font-size: 15px;
}

.form-producto-container input:focus,
.form-producto-container select:focus {
    border-color: #222;
    outline: none;
}

/* BOTÓN PRINCIPAL */
.form-producto-container button {
    width: 100%;
    margin-top: 25px;
    padding: 12px;
    background: #222;
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 16px;
    cursor: pointer;
}

.form-producto-container button:hover {
    background: #444;
}

/* BOTÓN VOLVER */
.btn-volver {
    display: block;
    width: 100%;
    margin-top: 15px;
    padding: 10px;
    border: 2px solid #222;
    border-radius: 10px;
    text-align: center;
    text-decoration: none;
    color: #222;
    font-weight: bold;
}

.btn-volver:hover {
    background: #f0f0f0;
}
</style>
</head>
<body class="light">
<header class="header">
    <div class="logo-area">
        <img id="logoFrap" src="/assets/imagenes/logo_frap_fclaro.png" class="logo">
    </div>
    <div class="mid_container_light">
        <h3><%= accion === 'alta' ? 'Alta de producto' : 'Editar producto' %></h3>
        <h4><%= admin ? admin.email : '' %></h4>
    </div>
</header>

<main class="form-producto-container">
    <form method="POST"
          action="<%= accion === 'alta' ? '/admin/productos/nuevo' : '/admin/productos/' + producto.id_producto + '/editar' %>">

        <label>Descripción</label>
        <input type="text" name="descripcion" required
               value="<%= producto ? producto.descripcion : '' %>">

        <label>Precio</label>
        <input type="number" step="0.01" name="precio" required
               value="<%= producto ? producto.precio : '' %>">

        <label>Tipo de producto</label>
        <select name="id_tipo_producto" required>
            <option value="">Seleccione...</option>
            <% tipos.forEach(t => { %>
                <option value="<%= t.id %>"
                    <%= producto && producto.id_tipo_producto === t.id ? 'selected' : '' %>>
                    <%= t.descripcion %>
                </option>
            <% }) %>
        </select>

        <label>Imagen (ruta)</label>
        <input type="text" name="imagen" required
            value="<%= producto ? producto.imagen : '' %>">

        <button type="submit">
            <%= accion === 'alta' ? 'Agregar' : 'Guardar cambios' %>
        </button>
    </form>

    <a href="/admin/dashboard">Volver al dashboard</a>
</main>
</body>
</html>
