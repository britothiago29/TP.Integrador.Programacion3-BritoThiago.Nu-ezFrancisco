<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>FRAP | <%= accion === 'alta' ? 'Alta' : 'Editar' %> producto</title>
    <link rel="stylesheet" href="/css/estilos.css">
</head>
<body class="light">
<header class="header">
    <div class="logo-area">
        <img id="logoFrap" src="/assets/imagenes/logo_frap_fclaro.png" class="logo">
    </div>
    <div class="mid_container_light">
        <h3><%= accion === 'alta' ? 'Alta de producto' : 'Editar producto' %></h3>
        <h4><%= admin ? admin.email : '' %></h4>
    </div>
</header>

<main class="form-producto-container">
    <form method="POST"
          action="<%= accion === 'alta' ? '/admin/productos/nuevo' : '/admin/productos/' + producto.id_producto + '/editar' %>">

        <label>Descripci√≥n</label>
        <input type="text" name="descripcion" required
               value="<%= producto ? producto.descripcion : '' %>">

        <label>Precio</label>
        <input type="number" step="0.01" name="precio" required
               value="<%= producto ? producto.precio : '' %>">

        <label>Tipo de producto</label>
        <select name="id_tipo_producto" required>
            <option value="">Seleccione...</option>
            <% tipos.forEach(t => { %>
                <option value="<%= t.id %>"
                    <%= producto && producto.id_tipo_producto === t.id ? 'selected' : '' %>>
                    <%= t.descripcion %>
                </option>
            <% }) %>
        </select>

        <label>Imagen (ruta)</label>
        <input type="text" name="imagen" required
            value="<%= producto ? producto.imagen : '' %>">

        <button type="submit">
            <%= accion === 'alta' ? 'Agregar' : 'Guardar cambios' %>
        </button>
    </form>

    <a href="/admin/dashboard">Volver al dashboard</a>
</main>
</body>
</html>
